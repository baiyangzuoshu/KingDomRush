{"version":3,"sources":["assets\\Scripts\\Game\\GuiTowerBuilder.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\nimport { UIControl } from \"../../FrameWork/ui/UIControl\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class GuiTowerBuilder extends UIControl {\n    gui_builder: cc.Node = null;\n    gui_undo: cc.Node = null;\n    tower_builder = null;\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        super.onLoad();\n\n        this.gui_builder = this.getChildByUrl(\"gui_builder\");\n        this.gui_undo = this.getChildByUrl(\"gui_undo\");\n        \n        this.node.active = false;\n        this.tower_builder = null;\n\n        this.buttonAddClickEvent(\"gui_builder/mask\", this.close_gui_builder, this);\n        this.buttonAddClickEvent(\"gui_undo/mask\", this.close_gui_builder, this);\n    }\n\n    show_tower_builder(tower_buidler) {\n        this.tower_builder = tower_buidler;\n        if (!this.tower_builder) {\n            return;\n        }\n        \n        this.node.active = true;\n        this.gui_builder.active = true;\n        this.gui_undo.active = false;\n        \n        \n        this.node.x = tower_buidler.node.x;\n        this.node.y = tower_buidler.node.y;\n    }\n    \n    show_tower_undo(tower_buidler) {\n        this.tower_builder = tower_buidler;\n        if (!this.tower_builder) {\n            return;\n        }\n        \n        this.node.active = true;\n        this.gui_builder.active = false;\n        this.gui_undo.active = true;\n        \n        \n        this.node.x = tower_buidler.node.x;\n        this.node.y = tower_buidler.node.y;\n    }\n    \n    on_build_tower_click(t, tower_type) {\n        if (!this.tower_builder) {\n            return;\n        }\n        \n        this.tower_builder.on_tower_build_click(t, tower_type);\n        this.close_gui_builder();\n    }\n    \n    on_undo_tower_click() {\n        if (!this.tower_builder) {\n            return;\n        }\n        \n        this.tower_builder.on_tower_undo_click();\n        this.close_gui_builder();\n    }\n    \n    on_upgrade_tower_click() {\n        if (!this.tower_builder) {\n            return;\n        }\n        this.tower_builder.on_tower_upgrade_click();\n        this.close_gui_builder();\n    }\n    \n    close_gui_builder() {\n        this.node.active = false;\n    }\n}\n"]}