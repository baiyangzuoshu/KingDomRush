{"version":3,"sources":["assets\\Scripts\\GameApp.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,4EAA4E;AAC5E,mBAAmB;AACnB,sFAAsF;AACtF,8BAA8B;AAC9B,sFAAsF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEtF,oEAAmE;AACnE,kEAAiE;AAE3D,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAqC,2BAAY;IAAjD;QAAA,qEA6CC;QAzBW,YAAM,GAAS,IAAI,CAAA;QACnB,iBAAW,GAAgB,IAAI,CAAA;;QAuBvC,iBAAiB;IACrB,CAAC;gBA7CoB,OAAO;IAExB,wBAAM,GAAN;QACI,IAAG,IAAI,KAAG,SAAO,CAAC,SAAS,EAAC;YACxB,SAAO,CAAC,SAAS,GAAC,IAAI,CAAA;SACzB;aACG;YACA,IAAI,CAAC,OAAO,EAAE,CAAA;YACd,OAAM;SACT;QAED,IAAI,CAAC,MAAM,GAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;QAC7B,IAAI,CAAC,WAAW,GAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAA;QACzF,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAC,CAAC,CAAA;IAC/B,CAAC;IAEa,mBAAW,GAAzB;QACI,OAAO,SAAO,CAAC,SAAS,CAAA;IAC5B,CAAC;IAKM,2BAAS,GAAhB;QACI,2BAAY,CAAC,WAAW,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;IACpD,CAAC;IAEY,2BAAS,GAAtB;uCAAyB,OAAO;;;;wBAC5B,MAAM;wBACN,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAC,GAAG,CAAC;wBAC9B,qBAAM,6BAAa,CAAC,QAAQ,CAAC,yBAAyB,CAAC,SAAS,EAAC,EAAE,CAAC,MAAM,CAAC,EAAA;;wBAA3E,SAA2E,CAAC;wBAC5E,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAC,GAAG,CAAC;wBAC9B,qBAAM,6BAAa,CAAC,QAAQ,CAAC,yBAAyB,CAAC,QAAQ,EAAC,EAAE,CAAC,SAAS,CAAC,EAAA;;wBAA7E,SAA6E,CAAC;wBAC9E,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAC,GAAG,CAAC;wBAC9B,qBAAM,6BAAa,CAAC,QAAQ,CAAC,yBAAyB,CAAC,UAAU,EAAC,EAAE,CAAC,WAAW,CAAC,EAAA;;wBAAjF,SAAiF,CAAC;wBAClF,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAC,CAAC,CAAC;wBAE5B,IAAI,CAAC,SAAS,EAAE,CAAC;;;;;KACpB;IAED,uBAAK,GAAL;IAEA,CAAC;;IAzCc,iBAAS,GAAS,IAAI,CAAA;IADpB,OAAO;QAD3B,OAAO;OACa,OAAO,CA6C3B;IAAD,cAAC;CA7CD,AA6CC,CA7CoC,EAAE,CAAC,SAAS,GA6ChD;kBA7CoB,OAAO","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { ResManagerPro } from \"../FrameWork/manager/ResManagerPro\";\r\nimport { UIManagerPro } from \"../FrameWork/manager/UIManagerPro\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GameApp extends cc.Component {\r\n    private static _instance:GameApp=null\r\n    onLoad () {\r\n        if(null===GameApp._instance){\r\n            GameApp._instance=this\r\n        }\r\n        else{\r\n            this.destroy()\r\n            return\r\n        }\r\n\r\n        this.canvas=cc.find(\"Canvas\")\r\n        this.progressBar=this.canvas.getChildByName(\"myProgressBar\").getComponent(cc.ProgressBar)\r\n        this.progressBar.progress=0\r\n    }\r\n\r\n    public static getInstance():GameApp{\r\n        return GameApp._instance\r\n    }\r\n\r\n    private canvas:cc.Node=null\r\n    private progressBar:cc.ProgressBar=null\r\n\r\n    public enterGame():void{\r\n        UIManagerPro.getInstance().showPrefab(\"HomeUI\");\r\n    }\r\n\r\n    public async startGame():Promise<void>{\r\n        //加载资源\r\n        this.progressBar.progress=0.1;\r\n        await ResManagerPro.Instance.IE_LoadBundleAndAllAssets(\"prefabs\",cc.Prefab);\r\n        this.progressBar.progress=0.5;\r\n        await ResManagerPro.Instance.IE_LoadBundleAndAllAssets(\"Sounds\",cc.AudioClip);\r\n        this.progressBar.progress=0.8;\r\n        await ResManagerPro.Instance.IE_LoadBundleAndAllAssets(\"textures\",cc.SpriteFrame);\r\n        this.progressBar.progress=1;\r\n\r\n        this.enterGame();\r\n    }\r\n\r\n    start () {\r\n        \r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}