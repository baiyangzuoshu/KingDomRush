{"version":3,"sources":["assets\\Scripts\\UI\\HomeUIControl.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\nimport { EventManager } from \"../../FrameWork/manager/EventManager\";\nimport { ResManagerPro } from \"../../FrameWork/manager/ResManagerPro\";\nimport { UIManagerPro } from \"../../FrameWork/manager/UIManagerPro\";\nimport { UIControl } from \"../../FrameWork/ui/UIControl\";\nimport GameDataManager from \"../Data/GameDataManager\";\nimport { ViewUI } from \"../Enum\";\nimport { HomeUI } from \"../EventName\";\nimport AudioSwich from \"../Tools/AudioSwich\";\nimport LoadingDoor from \"../Tools/LoadingDoor\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class HomeUIControl extends UIControl {\n    game_started:boolean = false;\n    start_anim_com:cc.Animation = null;\n    start_click_animclip:cc.AnimationClip = null;\n    uinfo_enter_anim_com:cc.Animation = null;\n    outside:boolean = false; // 跳出了场景;\n    loading_door:LoadingDoor = null;\n    music_switch:AudioSwich=null;\n    effect_switch:AudioSwich=null;\n    // LIFE-CYCLE CALLBACKS:\n\n    async onLoad () {\n        super.onLoad();\n        this.registerBtnClickEvent();\n\n        this.loading_door = this.getChildByUrl(\"anchor-center/loading_door\").addComponent(LoadingDoor);\n        this.loading_door.setData(1, 0.4);\n\n        this.music_switch = this.getChildByUrl(\"anchor-center/music_switch\").addComponent(AudioSwich);\n        let off_spriteframe:cc.SpriteFrame=await ResManagerPro.Instance.IE_GetAsset(\"textures\", \"common/options_overlay_buttons_0001\", cc.SpriteFrame) as cc.SpriteFrame;\n        let on_spriteframe:cc.SpriteFrame=await ResManagerPro.Instance.IE_GetAsset(\"textures\", \"common/options_overlay_buttons_0002\", cc.SpriteFrame) as cc.SpriteFrame;\n        this.music_switch.setData(1,off_spriteframe,on_spriteframe);\n\n        this.effect_switch = this.getChildByUrl(\"anchor-center/effect_switch\").addComponent(AudioSwich);\n        let off_spriteframe2:cc.SpriteFrame=await ResManagerPro.Instance.IE_GetAsset(\"textures\", \"common/options_overlay_buttons_0003\", cc.SpriteFrame) as cc.SpriteFrame;\n        let on_spriteframe2:cc.SpriteFrame=await ResManagerPro.Instance.IE_GetAsset(\"textures\", \"common/options_overlay_buttons_0004\", cc.SpriteFrame) as cc.SpriteFrame;\n        this.effect_switch.setData(1, off_spriteframe2,on_spriteframe2);\n\n        this.game_started = false;\n        \n        this.start_anim_com = this.getChildByUrl(\"anchor-center/start_anim_root\").getComponent(cc.Animation);\n        var clip_array = this.start_anim_com.getClips();\n        this.start_click_animclip = clip_array[1];\n        this.uinfo_enter_anim_com = this.getChildByUrl(\"anchor-center/user_game_info_root\").getComponent(cc.Animation);\n        this.outside = false; // 跳出了场景;\n        // 播放背景音乐;\n        //sound_manager.play_music(\"resources/sounds/music/home_scene_bg.mp3\", true);\n        // end\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\n\n        EventManager.getInstance().addEventListener(HomeUI.open_the_door,this.open_the_door,this);\n    }\n\n    protected onDestroy(): void {\n        EventManager.getInstance().removeEventListener(HomeUI.open_the_door,this.open_the_door,this);\n    }\n\n    open_the_door(){\n        this.loading_door.open_the_door(()=>{\n            this.outside=false;\n        });\n    }\n\n    registerBtnClickEvent(){\n        this.buttonAddClickEvent(\"anchor-center/start_anim_root/about_btton_root/about_button\",this.goto_about,this);\n        this.buttonAddClickEvent(\"anchor-center/start_anim_root/start_button_root/start_button\",this.start_game,this);\n        this.buttonAddClickEvent(\"anchor-center/user_game_info_root/close_uinfo_dlg_bt\",this.close_uinfo_dlg,this);\n        this.buttonAddClickEvent(\"anchor-center/user_game_info_root/user1/entry\",this.on_user_entry_click1,this);\n        this.buttonAddClickEvent(\"anchor-center/user_game_info_root/user2/entry\",this.on_user_entry_click2,this);\n        this.buttonAddClickEvent(\"anchor-center/user_game_info_root/user2/entry\",this.on_user_entry_click3,this);\n        this.buttonAddClickEvent(\"anchor-center/user_game_info_root/user2/entry\",this.on_user_entry_click3,this);\n        this.buttonAddClickEvent(\"anchor-center/user_game_info_root/user2/entry\",this.on_user_entry_click3,this);\n        this.buttonAddClickEvent(\"anchor-center/music_switch\",this.onMusicEvent,this);\n        this.buttonAddClickEvent(\"anchor-center/effect_switch\",this.onEffectEvent,this);\n    }\n\n    onMusicEvent(){\n        this.music_switch.on_switch_click();\n    }\n    onEffectEvent(){\n        this.effect_switch.on_switch_click();\n    }\n\n    onKeyDown(event) {\n        console.log(event.keyCode);\n        // 打印出来back,的键值，你就判断就可以了。\n    }\n\n    // user_node, 节点， user,是本地的账户的游戏数据\n    set_star_score(user_node, user) {\n        var star_score_label = user_node.getChildByName(\"star_score\").getComponent(cc.Label);\n        star_score_label.string = user.star_num + \" / \" + user.star_total;\n    }\n    show_user_data() {\n        this.set_star_score(this.getChildByUrl(\"anchor-center/user_game_info_root/user1\"), GameDataManager.getInstance().user_data[0]);\n        this.set_star_score(this.getChildByUrl(\"anchor-center/user_game_info_root/user2\"), GameDataManager.getInstance().user_data[1]);\n        this.set_star_score(this.getChildByUrl(\"anchor-center/user_game_info_root/user3\"), GameDataManager.getInstance().user_data[2]);\n    }\n    // 动态打开\n    start() {\n        // 将我们的用户数据显示到我们的界面上面；\n        this.show_user_data();\n        // end \n        this.scheduleOnce(function() {\n            this.start_anim_com.play(\"home_scene_start_anim\");\n        }.bind(this), 0.5);\n        \n    }\n    start_game() {\n        if (this.game_started) { // 保证在播放期间，start只调用一次;\n            return;\n        }\n        this.game_started = true;\n        // 播放按钮的音效\n        //sound_manager.play_effect(\"resources/sounds/click.wav\");\n        // end \n        \n        // 播放我们的收起动画;\n        // this.start_click_animclip.wrapMode = cc.WrapMode.Normal;\n        this.start_anim_com.play(\"start_button_click_anim\");\n        // end \n        \n        // 播放完成了以后，我们再播放我们玩家信息的入场动画;\n        this.scheduleOnce(function(){\n            this.uinfo_enter_anim_com.play(\"uinfo_enter_anim\");\n        }.bind(this), this.start_anim_com.currentClip.duration);\n        // end \n    }\n    // 关闭我们用户游戏信息的对话框\n    close_uinfo_dlg() {\n        // Step1, 播放关闭动画;\n        this.uinfo_enter_anim_com.play(\"reserve_uinfo_enter_anim\");\n        // end\n        // 再将start按钮掉下来;\n        this.scheduleOnce(function(){\n            // 在代码里面修改wrapMode没有作用;\n            /*\n            console.log(\"#####\", this.start_click_animclip.wrapMode);\n            this.start_click_animclip.wrapMode = cc.WrapMode.Reverse;\n            console.log(\"#####\", this.start_click_animclip.wrapMode);\n            this.start_anim_com.play(\"start_button_click_anim\");\n            console.log(\"#####\", this.start_click_animclip.wrapMode);\n            console.log(\"#####\", this.start_anim_com.currentClip.wrapMode);\n            */\n            this.game_started = false;\n            this.start_anim_com.play(\"reserve_start_button_click_anim\");\n        }.bind(this), this.uinfo_enter_anim_com.currentClip.duration); // 动画的时间长度;\n    }\n    close_door() {\n        this.loading_door.set_door_state(0);\n        this.scheduleOnce(function() {\n            this.loading_door.open_the_door();    \n        }.bind(this), 0.5);\n    }\n    goto_about() {\n        if (this.outside) { // 使用变量挡住，防止多次跳转;\n            return;\n        }\n        this.outside = true;\n        // 播放按钮的音效\n        //sound_manager.play_effect(\"resources/sounds/click.wav\");\n        \n        this.loading_door.close_the_door(function() {\n            this.scheduleOnce(function() {\n                let canvas=cc.find(\"Canvas\");\n                let uiNode=canvas.getChildByName(\"uiNode\");  \n                UIManagerPro.getInstance().showPrefab(ViewUI.AboutUI,\"UI\",uiNode);  \n            }, 0.5);\n        }.bind(this));\n    }\n    // 使用哪个用户进入游戏点击响应\n    on_user_entry_click1() {\n        this.on_user_entry(0);\n    }\n    on_user_entry_click2() {\n        this.on_user_entry(1);\n    }\n    on_user_entry_click3() {\n        this.on_user_entry(2);\n    }\n    on_user_entry(user_index) {\n        if (this.outside) { // 使用变量挡住，防止多次跳转;\n            return;\n        }\n        this.outside = true;\n        \n        user_index = parseInt(user_index);\n        GameDataManager.getInstance().set_cur_user(user_index);\n        // 播放按钮的音效\n        //sound_manager.play_effect(\"resources/sounds/click.wav\");\n        \n        this.loading_door.close_the_door(function() {\n            this.scheduleOnce(function() {\n                let canvas=cc.find(\"Canvas\");\n                let uiNode=canvas.getChildByName(\"uiNode\"); \n                UIManagerPro.getInstance().showPrefab(ViewUI.RoadMapUI,\"UI\",uiNode);   \n            }, 0.5);\n        }.bind(this));\n    }\n}\n"]}