{"version":3,"sources":["assets\\Scripts\\Tools\\AudioSwich.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,4EAA4E;AAC5E,mBAAmB;AACnB,sFAAsF;AACtF,8BAA8B;AAC9B,sFAAsF;;;;;;;;;;;;;;;;;;;;;AAEtF,0DAAyD;AACzD,oEAA+D;AAEzD,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAwC,8BAAS;IAAjD;QAAA,qEA4DC;QA3DG,QAAE,GAAa,IAAI,CAAC,CAAC,kBAAkB;QACvC,UAAI,GAAU,CAAC,CAAC,CAAC,6BAA6B;QAC9C,qBAAe,GAAkB,IAAI,CAAC,CAAC,WAAW;QAClD,oBAAc,GAAkB,IAAI,CAAC,CAAC,UAAU;;QAuDhD,iBAAiB;IACrB,CAAC;IAtDG,wBAAwB;IAExB,2BAAM,GAAN;QACI,iBAAM,MAAM,WAAE,CAAC;QACf,oBAAoB;QACpB,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;QAC5C,OAAO;IACX,CAAC;IAED,4BAAO,GAAP,UAAQ,IAAW,EAAC,eAA8B,EAAC,cAA6B;QAC5E,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;IACzC,CAAC;IAED,0BAAK,GAAL;QACI,IAAI,IAAI,CAAC,IAAI,KAAK,CAAC,EAAE,EAAE,eAAe;YAClC,IAAI,4BAAkB,CAAC,WAAW,EAAE,CAAC,YAAY,EAAE;gBAC/C,IAAI,CAAC,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC;aAC9C;iBACI;gBACD,IAAI,CAAC,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC;aAC7C;SACJ;aACI,IAAG,IAAI,CAAC,IAAI,KAAK,CAAC,EAAE;YACrB,IAAI,4BAAkB,CAAC,WAAW,EAAE,CAAC,aAAa,EAAG;gBACjD,IAAI,CAAC,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC;aAC9C;iBACI;gBACD,IAAI,CAAC,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC;aAC7C;SACJ;IACL,CAAC;IACD,eAAe;IACf,oCAAe,GAAf;QACI,IAAI,MAAM,CAAC;QACX,IAAI,IAAI,CAAC,IAAI,KAAK,CAAC,EAAE,EAAE,iBAAiB;YACpC,MAAM,GAAG,CAAC,4BAAkB,CAAC,WAAW,EAAE,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjE,4BAAkB,CAAC,WAAW,EAAE,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;SAC3D;aACI,IAAG,IAAI,CAAC,IAAI,KAAK,CAAC,EAAE;YACrB,MAAM,GAAG,CAAC,4BAAkB,CAAC,WAAW,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAClE,4BAAkB,CAAC,WAAW,EAAE,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;SAC5D;QAED,IAAI,MAAM,EAAE,EAAE,QAAQ;YAClB,IAAI,CAAC,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC;SAC9C;aACI,EAAE,QAAQ;YACX,IAAI,CAAC,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC;SAC7C;IACL,CAAC;IAzDgB,UAAU;QAD9B,OAAO;OACa,UAAU,CA4D9B;IAAD,iBAAC;CA5DD,AA4DC,CA5DuC,qBAAS,GA4DhD;kBA5DoB,UAAU","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\nimport { UIControl } from \"../../FrameWork/ui/UIControl\";\nimport PlayerSoundManager from \"../Manager/PlayerSoundManager\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class AudioSwich extends UIControl {\n    sp:cc.Sprite = null; // 用来显示图片的Sprite组件\n    type:number = 0; // 0 表示music的开关，1表示effect的开关；\n    off_spriteframe:cc.SpriteFrame = null; // off状态的图片\n    on_spriteframe:cc.SpriteFrame = null; // on状态的图片\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        super.onLoad();\n        // 获取换状态图片的Sprite组件，\n        this.sp = this.node.getComponent(cc.Sprite);\n        // end \n    }\n\n    setData(type:number,off_spriteframe:cc.SpriteFrame,on_spriteframe:cc.SpriteFrame) {\n        this.type = type;\n        this.off_spriteframe = off_spriteframe;\n        this.on_spriteframe = on_spriteframe;\n    }\n\n    start() { // 根据我们sound_manager的状态，来显示对应的图片\n        if (this.type === 0) { // 表示是music的开关；\n            if (PlayerSoundManager.getInstance().b_music_mute) {\n                this.sp.spriteFrame = this.off_spriteframe; \n            }\n            else {\n                this.sp.spriteFrame = this.on_spriteframe; \n            }\n        }\n        else if(this.type === 1) {\n            if (PlayerSoundManager.getInstance().b_effect_mute)  {\n                this.sp.spriteFrame = this.off_spriteframe; \n            }\n            else {\n                this.sp.spriteFrame = this.on_spriteframe; \n            }\n        }\n    }\n    // 声音按钮按下，切换状态；\n    on_switch_click() {\n        var b_mute;\n        if (this.type === 0) { // music 的switch;\n            b_mute = (PlayerSoundManager.getInstance().b_music_mute) ? 0 : 1;\n            PlayerSoundManager.getInstance().set_music_mute(b_mute);\n        }\n        else if(this.type === 1) {\n            b_mute = (PlayerSoundManager.getInstance().b_effect_mute) ? 0 : 1;\n            PlayerSoundManager.getInstance().set_effect_mute(b_mute);\n        }\n\n        if (b_mute) { // off图片\n            this.sp.spriteFrame = this.off_spriteframe; \n        }\n        else { // on图片。\n            this.sp.spriteFrame = this.on_spriteframe;\n        }\n    }\n\n    // update (dt) {}\n}\n"]}